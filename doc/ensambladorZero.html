<html>
  <head>
    <meta content="text/html; charset=iso-8859-1" http-equiv="content-type">
    <meta name="Author" content="Baltasar Garc&#237;a Perez-Schofield (jbgarcia)">
    <meta name="KeyWords" content="Zero, programaci&#243;n, programming, persistence,
persistencia, persistent, OOP, POO, prototypes, prototipos, objetos, objects,ensamblador, assembler">
    <title>Ensamblador Zero</title>
  </head>
  <body>
    <hr>
    <table width="100%">
      <tbody>
        <tr>
          <td>
            <h1>Ensamblador Zero</h1>
          </td>
          <td> <img title="Zero" src="../images/tiraZero.jpg" alt="Zero (el avi&#243;n)"
              align="RIGHT"> </td>
        </tr>
      </tbody>
    </table>
    <hr>
    <p> </p>
    <h2>Resumen</h2>
    <hr>
    <p> Este archivo es la especificaci&#243;n del c&#243;digo ensamblador para
      Zero. Una gu&#237;a del contenido puede encontrarse a continuaci&#243;n. </p>
    <p> </p>
    <ul>
      <ul>
        <p></p>
        <li><a href="#LISTA_ATR">Lista de miembros por defecto en cualquier
            objeto</a>
          <ul>
            <li><a href="#parent">parent</a>, </li>
            <li><a href="#finalize">finalize</a>,</li>
            <li><a href="#copy">copy</a>. </li>
          </ul>
          <p></p>
        </li>
        <li><a href="#LISTA_ATR">Variables locales dentro de un m&#233;todo:</a>
          <ul>
            <li><a href="#RR">Registro de retorno</a>, </li>
            <li><a href="#__this">Registro this</a>, </li>
            <li><a href="#EXC">Registro de excepciones</a>, </li>
            <li><a href="#AC">Registro acumulador</a>, </li>
            <li><a href="#GP">Registros de prop&#243;sito general</a>. </li>
          </ul>
          <p></p>
        </li>
        <li><a href="#LISTA_MN">Lista completa de mnemot&#233;cnicos</a>
          <ul>
            <li>Clasificaci&#243;n de mnemot&#233;cnicos:
              <ol>
                <li>Creaci&#243;n de objetos: <a href="#OBJ">OBJ</a>, <a href="#ENO">ENO</a>.
                </li>
                <li>Creaci&#243;n de m&#233;todos: <a href="#MTH">MTH</a>, <a
                    href="#RET">RET</a>, <a href="#ENM">ENM</a>. </li>
                <li>Creaci&#243;n de atributos: <a href="#ATR">ATR</a> </li>
                <li>Creaci&#243;n de variables locales: <a href="#DEF">DEF</a>,
                  <a href="#FLT">FLT</a>, <a href="#STR">STR</a>. </li>
                <li>Operaci&#243;n con referencias: <a href="#ASG">ASG</a>, <a
                    href="#SET">SET</a>. </li>
                <li>Salto: <a href="#JMP">JMP</a>, <a href="#JOT">JOT</a>, <a
                    href="#JOF">JOF</a>. </li>
                <li>Operaci&#243;n con objetos: <a href="#MSG">MSG</a>, <a href="#IOF">IOF</a>,
                  <a href="#TRW">TRW</a>. </li>
              </ol>
            </li>
            <li>Mnemot&#233;cnicos en orden alfab&#233;tico:
              <ol>
                <li><a href="#ASG">ASG</a>, </li>
                <li><a href="#ATR">ATR</a>, </li>
                <li><a href="#DEF">DEF</a>, </li>
                <li><a href="#ENM">ENM</a>, </li>
                <li><a href="#ENO">ENO</a>, </li>
                <li><a href="#FLT">FLT</a>, </li>
                <li><a href="#IOF">IOF</a>, </li>
                <li><a href="#JMP">JMP</a>, </li>
                <li><a href="#JOT">JOT</a>, </li>
                <li><a href="#JOF">JOF</a>, </li>
                <li><a href="#MTH">MTH</a>, </li>
                <li><a href="#MSG">MSG</a>, </li>
                <li><a href="#OBJ">OBJ</a>, </li>
                <li><a href="#RET">RET</a>, </li>
                <li><a href="#SET">SET</a>, </li>
                <li><a href="#STR">STR</a>, </li>
                <li><a href="#TRW">TRW</a>. </li>
              </ol>
            </li>
          </ul>
        </li>
      </ul>
    </ul>
    <hr> <i> <a href="http://www.ei.uvigo.es/%7Ejgarcia/">J. Baltasar
        Garc&#237;a Perez-Schofield</a>&#160;&#160;&#160; <a href="mailto:jbgarcia@uvigo.es">jbgarcia@uvigo.es</a>&#160;&#160;&#160;
      <a href="http://www.lsi.uvigo.es">Departamento de Inform&#225;tica</a>&#160;&#160;&#160;
      <a href="http://www.uvigo.es">Universidad de Vigo</a> </i>
    <hr>
    <p>&#160; </p>
    <p>&#160; </p>
    <p>&#160; </p>
    <p>&#160; </p>
    <p>&#160; </p>
    <p>&#160; </p>
    <p>&#160; </p>
    <p>&#160; </p>
    <p> <a name="LISTA_MN"> </a></p>
    <hr><a name="LISTA_MN">
      <h2>Lista de mnemot&#233;cnicos:</h2>
      <hr> </a>
    <ul>
      <a name="LISTA_MN"> </a><a name="OBJ">
        <p></p>
      </a>
      <li><a name="OBJ"><b>OBJ</b>: Inicia la definici&#243;n de un objeto. Debe
          ir acompa&#241;ado del nombre del objeto, y del nombre del padre del
          objeto. El efecto es crear el objeto vac&#237;o, a excepci&#243;n de </a><a
          href="#parent"><b>parent</b></a>, un atributo que se crea
        autom&#225;ticamente con el objeto y que permite que el mecanismo de
        delegaci&#243;n opere. <br>
        El segundo atributo pasado se le asigna al atributo parent, ya
        comentado. En caso de no existir este par&#225;metro, o en caso de ser
        incorrecto, se asignar&#225; a <a href="#Object">Object</a>. <br>
        Su utilidad por s&#237; misma es escasa, debe emplease con <a href="#ATR">ATR</a>
        y <a href="#MTH">MTH</a>.
        <p><code> OBJ &lt;nombre_obj&gt; &lt;nombre_obj_existente&gt; </code></p>
        <p><code> OBJ foo <br>
            ENO </code> <a name="ENO"> </a></p>
        <p></p>
      </li>
      <li><a name="ENO"><b>ENO</b>: Termina la definici&#243;n de un objeto. El
          efecto es que el objeto pasa a poder ser empleado, y el ensamblador
          permite la creaci&#243;n de un nuevo objeto.
          <p><code> ENO </code></p>
        </a>
        <p><a name="ENO"><code> OBJ foo <br>
              ENO </code> </a><a name="ATR"> </a></p>
        <p></p>
      </li>
      <li><a name="ATR"><b>ATR</b>: Define un atributo para un objeto. Debe
          estar dentro de la definici&#243;n de un objeto, es decir, entre un </a><a
          href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>. Debe ir
        acompa&#241;ado de un nombre, que ser&#225; el nombre del atributo. No
        es posible definir m&#225;s de un atributo con el mismo nombre. A
        continuaci&#243;n debe ir acompa&#241;ado de una referencia a un objeto.
        En caso de no querer darle ning&#250;n valor, debe indicarse <a href="#Nothing">Nothing</a>.
        Tambi&#233;n es posible darle un valor literal num&#233;rico o de cadena
        directamente. Adem&#225;s, su nombre no puede ser <a href="#parent"><b>parent</b></a>.
        <br>
        Entre el nombre del mnemot&#233;cnico y el nombre del m&#233;todo se
        coloca un s&#237;mbolo '+' o un '-', que se corresponden con atributo
        p&#250;blico o privado.
        <p><code> ATR &lt;+|-&gt; &lt;nombre&gt;
            [&lt;nombre_objeto_existente&gt; | &lt;literal_num&#233;rico&gt; |
            &lt;literal_cadena&gt;] </code></p>
        <p><code> OBJ foo <br>
            &#160;ATR + x 5 <br>
            ENO </code> <a name="MTH"> </a></p>
        <p></p>
      </li>
      <li><a name="MTH"><b>MTH</b>: Define un m&#233;todo para un objeto. Debe
          estar dentro de la definici&#243;n de un objeto, es decir, entre un </a><a
          href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>. Debe ir
        acompa&#241;ado de un nombre, que ser&#225; el nombre del m&#233;todo.
        Adem&#225;s, el n&#250;mero de argumentos, y a continuaci&#243;n, sus
        nombres, si existen. El efecto de los argumentos es, en la
        pr&#225;ctica, ser unas variables locales m&#225;s, que se inicializan
        con la &#243;rden <a href="#MSG">MSG</a>. Existen, siempre, dos
        variables locales extra, el <a href="#AC">acumulador</a>, y <b><a href="#__this">__this</a></b>,
        que es una referencia local que apunta al objeto que ejecuta el
        m&#233;todo (este objeto puede no ser el que define el m&#233;todo,
        debido a la delegaci&#243;n). <br>
        Entre el nombre del mnemot&#233;cnico y el nombre del m&#233;todo se
        coloca un s&#237;mbolo '+' o un '-', que se corresponden con m&#233;todo
        p&#250;blico o privado. <br>
        No es posible definir m&#225;s de un m&#233;todo o atributo con el mismo
        nombre. El final del m&#233;todo lo marca <a href="#RET">RET</a>.
        <p><code> MTH &lt;+|-&gt; &lt;nombre_m&#233;todo&gt;
            [&lt;parametro_formal1&gt;, [&lt;parametro_formal2&gt;, ...]] </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + x <br>
            &#160;RET __this <br>
            &#160;ENM <br>
            ENO </code> <a name="RET"> </a></p>
        <p></p>
      </li>
      <li><a name="RET"><b>RET</b>: Termina el cuerpo de un m&#233;todo de un
          objeto. Debe estar dentro de la definici&#243;n de un objeto, es
          decir, entre un </a><a href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>.
        El comienzo de un m&#233;todo lo marca <a href="#MTH">MTH</a>, y su
        final <a href="#ENM">ENM</a>. Puede ir acompa&#241;ado de una
        referencia local o de un registro. Si no aparece, entonces se asume que
        se devuelve el contenido de <a href="#RR">__rr</a>.
        <p><code> RET [&lt;referencia&gt;] </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + self <br>
            &#160;RET __this <br>
            &#160;ENM <br>
            ENO </code> <a name="JMP"> </a></p>
        <p></p>
      </li>
      <li><a name="JMP"><b>JMP</b>: Realiza un salto incondicional de un
          n&#250;mero de opcodes dado por el argumento. <br>
          Debe estar dentro de la definici&#243;n de un objeto, es decir, entre
          un </a><a href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>. El
        comienzo de un m&#233;todo lo marca <a href="#MTH">MTH</a>, y su final
        <a href="#ENM">ENM</a>. <br>
        Esta instrucci&#243;n no modifica el acumulador.
        <p><code> JMP &lt;n&#250;mero_de_opcodes&gt; </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + self <br>
            &#160;JMP 3 <br>
            &#160;STR "Este mensaje nunca sale por pantalla." <br>
            &#160;MSG System.console write __acc <br>
            &#160;RET __this <br>
            &#160;ENM <br>
            ENO </code> <a name="JOT"> </a></p>
        <p></p>
      </li>
      <li><a name="JOT"><b>JOT</b>: Realiza un salto condicional (si hay un True
          en el acumulador) de un n&#250;mero de opcodes dado por el argumento.
          <br>
          Debe estar dentro de la definici&#243;n de un objeto, es decir, entre
          un </a><a href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>. El
        comienzo de un m&#233;todo lo marca <a href="#MTH">MTH</a>, y su final
        <a href="#ENM">ENM</a>. <br>
        Esta instrucci&#243;n no modifica el acumulador.
        <p><code> JOT &lt;n&#250;mero_de_opcodes&gt; </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + foe <br>
            &#160;&#160;DEF cadTodoVaBien <br>
            &#160;&#160;STR "Si puede leer esto, es que todo va bien" <br>
            &#160;&#160;ASG cadTodoVaBien <br>
            &#160;&#160;IOF Float <br>
            &#160;&#160;JOT 2 <br>
            &#160;&#160;MSG System.console write cadTodoVaBien <br>
            &#160;RET __this <br>
            &#160;ENM <br>
            ENO </code> <a name="JOF"> </a></p>
        <p></p>
      </li>
      <li><a name="JOF"><b>JOF</b>: Realiza un salto condicional (si hay un
          False en el acumulador) de un n&#250;mero de opcodes dado por el
          argumento. <br>
          Debe estar dentro de la definici&#243;n de un objeto, es decir, entre
          un </a><a href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>. El
        comienzo de un m&#233;todo lo marca <a href="#MTH">MTH</a>, y su final
        <a href="#ENM">ENM</a>. <br>
        Esta instrucci&#243;n no modifica el acumulador.
        <p><code> JOF &lt;n&#250;mero_de_opcodes&gt; </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + foe <br>
            &#160;&#160;DEF cadTodoVaBien <br>
            &#160;&#160;STR "Si puede leer esto, es que todo va bien" <br>
            &#160;&#160;ASG cadTodoVaBien <br>
            &#160;&#160;IOF String <br>
            &#160;&#160;JOF 2 <br>
            &#160;&#160;MSG System.console write cadTodoVaBien <br>
            &#160;RET __this <br>
            &#160;ENM <br>
            ENO </code> <a name="ENM"> </a></p>
        <p></p>
      </li>
      <li><a name="ENM"><b>ENM</b>: Termina un m&#233;todo para un objeto. Debe
          estar dentro de la definici&#243;n de un objeto, es decir, entre un </a><a
          href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>. El comienzo de un
        m&#233;todo lo marca <a href="#MTH">MTH</a>, y el final del cuerpo
        principal <a href="#RET">RET</a>. El prop&#243;sito de existir esta
        divisi&#243;n es poder atender las excepciones que se produzcan. En caso
        de haber c&#243;digo entre un <a href="#RET">RET</a> y un <a href="#ENM">ENM</a>,
        &#233;ste s&#243;lo se ejecuta en caso de que se produzca una
        excepci&#243;n.
        <p><code> RET &lt;referencia&gt; </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + self <br>
            &#160;RET __this <br>
            &#160;ENM <br>
            ENO </code> <a name="FLT"> </a></p>
        <p></p>
      </li>
      <li><a name="FLT"><b>FLT</b>: Crea un objeto de la librer&#237;a
          est&#225;ndar que contendr&#225; el valor literal especificado.
          &#201;se objeto ser&#225; apuntado por el acumulador. En caso de no
          haber memoria suficiente, el </a><a href="#AC">acumulador</a>
        contendr&#225; una referencia a <a href="Nothing">Nothing</a>, y se
        lanzar&#225; la excepci&#243;n <a href="#ENotEnoughMemory">ENotEnoughMemory</a>.
        En concreto, FLT trata con n&#250;meros en punto flotante. Dado que Zero
        es un lenguaje orientado a objetos puro, &#233;sta es la &#250;nica
        forma de incluir valores que no son objetos en un programa. En caso de
        no existir memoria suficiente para el nuevo objeto, se provoca la excep
        Debe estar dentro de la definici&#243;n de un objeto, es decir, entre un
        <a href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>. Debe estar
        adem&#225;s entre un <a href="#MTH">MTH</a> y un <a href="#MTH">RET</a>.
        No es posible definir una referencia local con el nombre <b><a href="#__this">__this</a></b>,
        ni con el nombre del <b><a href="#acumulador">acumulador</a></b>.
        <p><code> FLT &lt;literal_flotante&gt; </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + foe <br>
            &#160;&#160; DEF PI <br>
            &#160;&#160; FLT 3.1415927 <br>
            &#160;&#160; ASG PI <br>
            &#160;&#160; MSG System.console write PI <br>
            &#160;RET __this <br>
            &#160;ENM <br>
            ENO </code> <a name="STR"> </a></p>
        <p></p>
      </li>
      <li><a name="STR"><b>STR</b>: Crea un objeto de la librer&#237;a
          est&#225;ndar que contendr&#225; el valor literal especificado.
          &#201;se objeto ser&#225; apuntado por el acumulador. En caso de no
          haber memoria suficiente, el </a><a href="#AC">acumulador</a>
        contendr&#225; una referencia a <a href="Nothing">Nothing</a>, y se
        lanzar&#225; la excepci&#243;n <a href="#ENotEnoughMemory">ENotEnoughMemory</a>.
        Dado que Zero es un lenguaje orientado a objetos puro, &#233;sta es la
        &#250;nica forma de incluir valores que no son objetos en un programa.
        En concreto, STR trata con cadenas de caracteres. La cadena puede ocupar
        varias l&#237;neas, si bien debe estar encerrada entre comillas dobles.
        Debe estar dentro de la definici&#243;n de un objeto, es decir, entre un
        <a href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>. Debe estar
        adem&#225;s entre un <a href="#MTH">MTH</a> y un <a href="#MTH">RET</a>.
        No es posible definir una referencia local con el nombre <b><a href="#__this">__this</a></b>,
        ni con el nombre del <b><a href="#acumulador">acumulador</a></b>.
        <p><code> STR &lt;nombre_variable&gt; "&lt;literal&gt;" </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + foe <br>
            &#160;&#160;DEF cadHolaMundo <br>
            &#160;&#160;STR "&#161;Hola, Mundo!" <br>
            &#160;&#160;ASG cadHolaMundo <br>
            &#160;&#160;MSG System.console write cadHolaMundo <br>
            &#160;RET __this <br>
            &#160;ENM <br>
            ENO </code> <a name="TRW"> </a></p>
        <p></p>
      </li>
      <li><a name="TRW"><b>TRW</b>: El prop&#243;sito de esta instrucci&#243;n
          es provocar una excepci&#243;n. Se trata de crear una copia de un
          objeto especificado, colocar una referencia al mismo en el </a><a href="#AC">acumulador</a>
        y en el registro de <a href="#EXC">excepciones</a>, y hacer un salto a
        la ejecuci&#243;n m&#225;s all&#225; de la instrucci&#243;n <a href="#RET">RET</a>.
        El conjunto de instrucciones especificado para el trato de excepciones
        estar&#225; entre &#233;sta instrucci&#243;n y la <a href="#ENM">ENM</a>.
        Acepta un &#250;nico argumento, que es una referencia al objeto
        excepci&#243;n a generar. <br>
        Si esta instrucci&#243;n se encuentra en una zona de gesti&#243;n de
        excepciones, (entre <a href="#RET">RET</a> y <a href="#ENM">ENM</a>,
        como ya se ha dicho), entonces la excepci&#243;n pasa al control de
        excepciones del m&#233;todo que hubiera sido llamado. En caso de no
        existir tal m&#233;todo, el trabajo se encarga a la m&#225;quina
        virtual. <br>
        Debe estar dentro de la definici&#243;n de un objeto, es decir, entre un
        <a href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>. Debe estar
        adem&#225;s entre un <a href="#MTH">MTH</a> y un <a href="#ENM">ENM</a>.
        <p><code> TRW &lt;referencia&gt; </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + foe <br>
            &#160;&#160;STR "Introduzca un n&#250;mero: " <br>
            &#160;&#160;MSG System.console read <br>
            &#160;&#160;MSG __acc toFloat <br>
            &#160;&#160;MSG System.console write __acc <br>
            &#160;RET <br>
            &#160;&#160;STR "Era necesario introducir un n&#250;mero." <br>
            &#160;&#160;MSG System.console write __acc <br>
            &#160;ENM <br>
            ENO </code> <a name="IOF"> </a></p>
        <p></p>
      </li>
      <li><a name="IOF"><b>IOF</b>: Esta instrucci&#243;n coloca </a><a href="#True">True</a>
        en el acumulador si la referencia en el <a href="#AC">acumulador</a>
        se&#241;ala a un objeto que es hijo en la cadena de herencia (mediante <a
          href="#parent">parent</a>), del objeto que es pasado como
        par&#225;metro. En caso contrario, coloca <a href="#False">False</a> en
        el acumulador. <br>
        Debe estar dentro de la definici&#243;n de un objeto, es decir, entre un
        <a href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>. <br>
        Si va acompa&#241;ada, adem&#225;s, de un registro, entonces la
        referencia a comrpobar no se toma del <a href="#AC">acumulador</a>,
        sino de ese registro. <br>
        Debe estar adem&#225;s entre un <a href="#MTH">MTH</a> y un <a href="#MTH">RET</a>.
        <p><code> IOF &lt;referencia&gt; [&lt;nombre_registro&gt;] </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + foe <br>
            &#160;&#160;DEF cadTodoVaBien <br>
            &#160;&#160;STR "Si puede leer esto, es que todo va bien" <br>
            &#160;&#160;ASG cadTodoVaBien <br>
            &#160;&#160;IOF String <br>
            &#160;&#160;JOF 2 <br>
            &#160;&#160;MSG System.console write cadTodoVaBien <br>
            &#160;RET __this <br>
            &#160;ENM <br>
            ENO </code> <a name="DEF"> </a></p>
        <p></p>
      </li>
      <li><a name="DEF"><b>DEF</b>: Define una referencia local dentro de un
          m&#233;todo para un objeto. Debe acompa&#241;arse con un nombre. La
          referencia local puede contener una referencia a un objeto. Se
          garantiza la inicializaci&#243;n a <b></b></a><b><a href="#Nothing">Nothing</a></b>.
        Debe estar dentro de la definici&#243;n de un objeto, es decir, entre un
        <a href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>. Debe estar
        adem&#225;s entre un <a href="#MTH">MTH</a> y un <a href="#MTH">RET</a>.
        No es posible definir una referencia local con el nombre <b><a href="#__this">__this</a></b>,
        ni con el nombre del <b><a href="#acumulador">acumulador</a></b>. <br>
        Esta instrucci&#243;n NO modifica el acumulador.
        <p><code> DEF &lt;nombre_variable_local&gt; </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + self <br>
            &#160;&#160;DEF aux <br>
            &#160;&#160;SET __this&#160;&#160;&#160;&#160;&#160; ; AC = __this <br>
            &#160;&#160;ASG aux&#160;&#160;&#160;&#160;&#160;&#160; ; aux = AC <br>
            &#160;RET aux <br>
            &#160;ENM <br>
            ENO </code> <a name="ASG"> </a></p>
        <p></p>
      </li>
      <li><a name="ASG"><b>ASG</b>: Permite asignar el contenido del </a><a href="#AC">acumulador</a>
        (una referencia a un objeto) a una referencia local, u otro <a href="#GP">registro</a>.
        Debe acompa&#241;arse con un nombre, el de la referencia local. Debe
        estar dentro de la definici&#243;n de un objeto, es decir, entre un <a
          href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>. Debe estar
        adem&#225;s entre un <a href="#MTH">MTH</a> y un <a href="#MTH">RET</a>.
        <br>
        Esta instrucci&#243;n NO modifica <b>necesariamente</b> el <a href="#AC">acumulador</a>
        (es decir, a no ser que el destino sea el propio acumulador, &#233;ste
        no es modificado).
        <p><code> ASG [&lt;nombre_registro&gt;] &lt;nombre_variable_local&gt; |
            &lt;nombre_atributo&gt; | &lt;nombre_registro&gt; </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + self <br>
            &#160;&#160;DEF aux <br>
            &#160;&#160;SET __this&#160;&#160;&#160;&#160; ; AC = __this <br>
            &#160;&#160;ASG aux&#160;&#160;&#160;&#160;&#160;&#160;&#160; ; aux
            = AC <br>
            &#160;RET aux <br>
            &#160;ENM <br>
            ENO </code> <a name="SET"> </a></p>
        <p></p>
      </li>
      <li><a name="SET"><b>SET</b>: Permite asignar una referencia al </a><a href="#AC">acumulador</a>
        u otro <a href="#GP">registro</a>. Debe acompa&#241;arse con un nombre
        de una referencia local, y, opcionalmente, un nombre de registro. De no
        incluirse &#233;ste &#250;ltimo, se asume el uso del <a href="#AC">acumulador</a>.
        Debe estar dentro de la definici&#243;n de un objeto, es decir, entre un
        <a href="#OBJ">OBJ</a> y un <a href="#ENO">ENO</a>. Debe estar
        adem&#225;s entre un <a href="#MTH">MTH</a> y un <a href="#MTH">RET</a>.
        <p><code> SET [&lt;nombre_registro&gt;] &lt;referencia&gt; </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + self <br>
            &#160;&#160;DEF aux <br>
            &#160;&#160;SET __this&#160;&#160;&#160;&#160;&#160; ; AC = __this <br>
            &#160;&#160;ASG aux&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
            ; aux = AC <br>
            &#160;RET aux <br>
            &#160;ENM <br>
            ENO </code> <a name="MSG"> </a></p>
        <p></p>
      </li>
      <li><a name="MSG"><b>MSG</b>: Permite ejecutar un m&#233;todo (mandar un
          mensaje) de un objeto. Debe acompa&#241;arse con un nombre de un
          objeto y el nombre del m&#233;todo a ejecutar. <br>
          En caso de no encontrar el objeto, se lanza la excepci&#243;n </a><a
          href="#EObjectNotFound">EObjectNotFound</a>, y en caso de no encontrar
        el m&#233;todo, <a href="#EMethodNotFound">EMethodNotFound</a> <br>
        A continuaci&#243;n se especifica el n&#250;mero de argumentos, y de ser
        este n&#250;mero mayor que cero, los argumentos uno por uno. Si
        est&#225; dentro de un objeto, el resultado del m&#233;todo queda
        guardado en el <a href="#AC">acumulador</a>.
        <p><code> MSG &lt;referencia&gt; &lt;desplazamiento&gt;
            &lt;nombre_m&#233;todo&gt; [&lt;referencia1&gt;
            [&lt;referencia2&gt;...]] </code></p>
        <p><code> OBJ foo <br>
            &#160;MTH + createChar <br>
            &#160;&#160;DEF litA <br>
            &#160;&#160;STR "A" <br>
            &#160;&#160;ASG litA <br>
            &#160;&#160;DEF aux <br>
            &#160;&#160;MSG String new ; __acc = new String <br>
            &#160;&#160;ASG
            aux&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;
            aux = AC <br>
            &#160;&#160;MSG aux assign litA <br>
            &#160;&#160;MSG System.console write aux <br>
            &#160;RET aux <br>
            &#160;&#160;STR "No hay suficiente memoria para crear objetos." <br>
            &#160;&#160;MSG System.console write __acc <br>
            &#160;ENM <br>
            ENO <br>
            MSG foo createChar </code> </p>
      </li>
    </ul>
    <p> </p>
    <p>&#160; </p>
    <p>&#160; </p>
    <p>&#160; </p>
    <p>&#160; </p>
    <p>&#160; </p>
    <p>&#160; </p>
    <p>&#160; </p>
    <p>&#160; </p>
    <hr> <a name="LISTA_ATR">
      <h2>Lista de atributos y variables locales por defecto:</h2>
      <hr>
      <p> A continuaci&#243;n, se muestran una serie de atributos que se crean
        por defecto dentro de cada objeto, y variables locales que se crean
        dentro de cada m&#233;todo. </p>
      <p> </p>
    </a>
    <ul>
      <a name="LISTA_ATR"> </a><a name="AC"> </a>
      <li><a name="AC"><b>El registro acumulador</b> </a>
        <p><a name="AC"> El </a><a href="#AC">acumulador</a> es una referencia
          local m&#225;s, que existe en todos y cada uno de los m&#233;todos de
          un objeto. Su nombre es el siguiente: </p>
        <p> <code> __acc </code> </p>
        <p> Es empleado por la mayor&#237;a de las instrucciones ensamblador de
          Zero. Puede ser accedido normalmente, pero lo m&#225;s probable es que
          emplear esta variable local directamente no sirva de mucho. </p>
        <p> <a name="GP"> </a></p>
      </li>
      <li><a name="GP"><b>Registros de prop&#243;sito general</b>
          <p> Adem&#225;s del acumulador, exsiten otros registros, que
            est&#225;n disponibles en todos y cada uno de los m&#233;todos de un
            objeto cualquiera. Sus nombres son los siguientes: </p>
          <p> <code> __gp1 <br>
              __gp2 <br>
              __gp3 <br>
              __gp4 </code> </p>
        </a>
        <p><a name="GP"> </a><a name="RR"> </a></p>
      </li>
      <li><a name="RR"><b>__rr</b>
          <p> <b>__rr</b> es una referencia local m&#225;s, que existe en todos
            y cada uno de los m&#233;todos de un objeto. Su nombre es el
            siguiente: </p>
          <p> <code> __rr </code> </p>
          <p> Guarda la referencia que ser&#225; devuelta al final del
            m&#233;todo, con RET. </p>
        </a>
        <p><a name="RR"> </a><a name="__this"> </a></p>
      </li>
      <li><a name="__this"><b>__this</b>
          <p> <b>__this</b> es una referencia local m&#225;s, que existe en
            todos y cada uno de los m&#233;todos de un objeto. Su nombre es el
            siguiente: </p>
          <p> <code> __this </code> </p>
          <p> Simboliza el objeto que est&#225; ejecutando el m&#233;todo. </p>
        </a>
        <p><a name="__this"> </a><a name="EXC"> </a></p>
      </li>
      <li><a name="EXC"><b>__exc</b>
          <p> <b>__exc</b> es una referencia local m&#225;s, que existe en
            todos y cada uno de los m&#233;todos de un objeto. Su nombre es el
            siguiente: </p>
          <p> <code> __exc </code> </p>
          <p> Simboliza el objeto que se lanzar&#225; como excepci&#243;n. </p>
        </a>
        <p><a name="EXC"> </a><a name="parent"> </a></p>
      </li>
      <li><a name="parent"><b>parent</b> </a>
        <p><a name="parent"> <b>parent</b> es un atributo m&#225;s dentro de un
            objeto, que existe en todos y cada uno de los objetos en Zero. Se
            inicializa por defecto a </a><a href="#Object">Object</a>. <br>
          Su nombre es el siguiente: </p>
        <p> <code> parent </code> </p>
        <p> Apunta al siguiente objeto al que el sistema debe ir cuando se
          est&#225; intentando localizar un m&#233;todo (al estarse ejecutando
          una llamada <a href="#MSG">MSG</a>).
          &#201;sta b&#250;squeda de objeto en objeto se conoce como <b>delegaci&#243;n</b>.
        </p>
        <p> <a name="copy"> </a></p>
      </li>
      <li><a name="copy"><b>Object copy(String nombre)</b> </a>
        <p><a name="copy"> <b>copy</b> es un m&#233;todo m&#225;s dentro de un
            objeto, que existe en todos y cada uno de los objetos en Zero, ya
            que lo heredan de </a><a href="#Object">Object</a>. Su nombre es el
          siguiente: </p>
        <p> <code> copy() </code> </p>
        <p> Acepta un argumento que es el nombre del objeto. </p>
        <p> </p>
        <p> <a name="finalize"> </a></p>
      </li>
      <li><a name="finalize"><b>Nothing finalize()</b> </a>
        <p><a name="finalize"> <b>finalize</b> es un m&#233;todo m&#225;s
            dentro de un objeto, que existe en todos y cada uno de los objetos
            en Zero, ya que lo heredan de </a><a href="#Object">Object</a>. Su
          nombre es el siguiente: </p>
        <p> <code> finalize </code> </p>
        <p> Se ejecuta cuando un objeto es eliminado. </p>
      </li>
    </ul>
    <p>&#160; </p>
    <hr> <i>
      <table width="100%">
        <tbody>
          <tr>
            <td> <a href="http://www.ei.uvigo.es/%7Ejgarcia/">J. Baltasar
                Garc&#237;a Perez-Schofield</a>&#160; <a href="mailto:jbgarcia@uvigo.es">jbgarcia@uvigo.es</a>&#160;&#160;
            </td>
            <td> <img src="../images/tiraZero.jpg" alt="Zero (el avi&#243;n)" align="RIGHT">
            </td>
          </tr>
        </tbody>
      </table>
    </i>
    <hr>
  </body>
</html>
